{"version":3,"sources":["webpack:///src/components/user-admin/userAdmin.vue","webpack:///./src/components/user-admin/userAdmin.vue?2328","webpack:///./src/components/user-admin/userAdmin.vue"],"names":["userAdmin","name","data","_this","this","columnsData","title","key","width","align","render","h","params","props","type","size","disabled","levelMess","style","marginRight","on","click","modifierLevel","modifierPassword","userDel","userData","userOriginData","userAddFlag","userAddData","userAddInpData","userName","userDepartment","userPassword","userRemarks","userAccounts","levelTypeShow","choseList","choseDefault","temName","temData","accessListShow","accessListData","userModifierFlag","userModifierInpData","userModifierDepartment","userModifierName","userModifierRemarks","userModifierData","modifierPasswordShow","savePassLoading","oldPassError","passId","editPasswordForm","oldPass","newPass","rePass","passwordValidate","required","message","trigger","min","max","validator","rule","value","callback","Error","userDelShow","delId","methods","addUser","levelTypeChose","_this2","$post","content","then","res","i","length","push","tem_name","catch","err","console","log","choseTemName","_this3","len","$refs","radio","currentValue","label","forEach","item","index","tem_level","util","evil","clearUserAddData","undefined","submitUserAdd","_this4","window","alert","test","obj","submitMessOpt","subChart","stringify_default","$Message","info","getUserData","submitData","password","accounts","department","remarks","submitObj","user_accounts","user_department","user_name","user_remarks","user_passwd","md5_default","user_level","changeCurrentValue","ind","userModifier","_this5","modifierChart","modifierDataObj","userModifierDataOpt","JSON","parse","user_times","chartSub","flag","userModifierChange","id","clearUserModifierData","optionData","userModifierCancel","unChangeData","changeData","unChangeName","unChangeDepartment","unChangeRemarks","changeName","changeDepartment","changeRemarks","changeValue","cancelEditPass","saveEditPass","_this6","modifierId","validate","valid","confirmDel","_this7","_this8","mounted","$store","state","userLevel","$route","computed","a","watch","handler","val","user_admin_userAdmin","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","_v","columns","on-cancel","model","$$v","expression","ref","placeholder","autocomplete","$set","accordion","_s","slot","_l","items","list","refInFor","_e","staticStyle","{zIndex","on-ok","label-width","label-position","rules","prop","loading","color","text-align","long","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"gKAqIAA,GACAC,KAAA,YACAC,KAFA,WAEA,IAAAC,EAAAC,KAQA,OACAC,cAEAC,MAAA,OACAC,IAAA,cAGAD,MAAA,OACAC,IAAA,oBAGAD,MAAA,SACAC,IAAA,eAGAD,MAAA,OACAC,IAAA,iBAGAD,MAAA,KACAC,IAAA,SACAC,MAAA,IACAC,MAAA,SACAC,OAAA,SAAAC,EAAAC,GACA,OAAAD,EAAA,OACAA,EAAA,UACAE,OACAC,KAAA,UACAC,KAAA,QACAC,UAAAb,EAAAc,UAAA,OAEAC,OACAC,YAAA,OAEAC,IACAC,MAAA,WACAlB,EAAAmB,cAAAV,MAGA,QACAD,EAAA,UACAE,OACAC,KAAA,OACAC,KAAA,QACAC,UAAAb,EAAAc,UAAA,OAEAC,OACAC,YAAA,OAEAC,IACAC,MAAA,WACAlB,EAAAoB,iBAAAX,MAGA,QACAD,EAAA,UACAE,OACAC,KAAA,QACAC,KAAA,QACAC,UAAAb,EAAAc,UAAA,OAEAG,IACAC,MAAA,WACAlB,EAAAqB,QAAAZ,MAGA,aAKAa,YACAC,kBACAC,aAAA,EACAC,eACAC,gBACAC,SAAA,GACAC,eAAA,GACAC,aAAA,GACAC,YAAA,GACAC,aAAA,IAEAC,eAAA,EACAC,aACAC,aAAA,OACAC,QAAA,GACAC,QAAA,GACAC,gBAAA,EACAC,kBACAC,kBAAA,EACAC,qBACAC,uBAAA,GACAC,iBAAA,GACAC,oBAAA,IAEAC,iBAAA,GACAC,sBAAA,EACAC,iBAAA,EACAC,aAAA,GACAC,OAAA,GACAC,kBACAC,QAAA,GACAC,QAAA,GACAC,OAAA,IAEAC,kBACAH,UACAI,UAAA,EAAAC,QAAA,SAAAC,QAAA,SAEAL,UACAG,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAC,IAAA,EAAAF,QAAA,YAAAC,QAAA,SACAE,IAAA,GAAAH,QAAA,YAAAC,QAAA,SAEAJ,SACAE,UAAA,EAAAC,QAAA,WAAAC,QAAA,SACAG,UA3HA,SAAAC,EAAAC,EAAAC,GACAD,IAAA7D,EAAAiD,iBAAAE,QACAW,EAAA,IAAAC,MAAA,cAEAD,KAuHAN,QAAA,UAGAQ,aAAA,EACAC,MAAA,GACAnD,eAGAoD,SACAC,QADA,WAEAlE,KAAAuB,aAAA,GAEA4C,eAJA,WAIA,IAAAC,EAAApE,KACAA,KAAA+B,eAAA,EACA/B,KAAAqE,MAAA,oBAAAlE,IAAA,kBAAAmE,QAAA,QACAC,KAAA,SAAAC,GACAJ,EAAAjC,QAAAqC,EACAJ,EAAApC,aACA,QAAAyC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IACAL,EAAApC,UAAA2C,KAAAH,EAAAC,GAAAG,YAGAC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAG,aAlBA,WAoBA,IAFA,IAAAC,EAAAlF,KACAmF,EAAAnF,KAAAoF,MAAAC,MAAAX,OACAD,EAAA,EAAAA,EAAAU,EAAAV,KACA,IAAAzE,KAAAoF,MAAAC,MAAAZ,GAAAa,eACAtF,KAAAkC,QAAAlC,KAAAoF,MAAAC,MAAAZ,GAAAc,OAGAvF,KAAAmC,QAAAqD,QAAA,SAAAC,EAAAC,GACAD,EAAAb,WAAAM,EAAAhD,UACAgD,EAAA7C,eAAAoD,KAGAzF,KAAAqC,eAAAsD,UAAAC,EAAA,EAAAC,KAAA7F,KAAAqC,eAAAsD,WAEA3F,KAAAoC,gBAAA,GAEA0D,iBAlCA,WA0CA,GAPA9F,KAAAqC,kBACArC,KAAAkC,QAAA,GACAlC,KAAAyB,eAAAC,SAAA,GACA1B,KAAAyB,eAAAK,aAAA,GACA9B,KAAAyB,eAAAE,eAAA,GACA3B,KAAAyB,eAAAG,aAAA,GACA5B,KAAAyB,eAAAI,YAAA,QACAkE,IAAA/F,KAAAoF,MAAAC,OAAA,OAAArF,KAAAoF,MAAAC,MAAA,CACA,QAAAZ,EAAA,EAAAA,EAAAzE,KAAAoF,MAAAC,MAAAX,OAAAD,IACAzE,KAAAoF,MAAAC,MAAAZ,GAAAa,cAAA,EAEAtF,KAAAoF,MAAAC,MAAA,GAAAC,cAAA,EAEAtF,KAAAoC,gBAAA,GAEA4D,cAlDA,WAkDA,IAAAC,EAAAjG,KAEA,QAAAA,KAAAyB,eAAAC,UAAA,KAAA1B,KAAAyB,eAAAK,cAAA,KAAA9B,KAAAyB,eAAAE,gBAAA,KAAA3B,KAAAyB,eAAAI,aAAA,KAAA7B,KAAAyB,eAAAG,aACAsE,OAAAC,MAAA,oBACA,QAAAnG,KAAAoC,eACA8D,OAAAC,MAAA,gBACA,GALA,sEAKAC,KAAApG,KAAAyB,eAAAK,cAEA,CACA,IAAAuE,EAAArG,KAAAsG,cAAAtG,KAAAqC,eAAArC,KAAAyB,eAAAC,SAAA1B,KAAAyB,eAAAG,aAAA5B,KAAAyB,eAAAK,aAAA9B,KAAAyB,eAAAE,eAAA3B,KAAAyB,eAAAI,aACA0E,EAAAC,IAAAH,GACArG,KAAAqE,MAAA,gBAAAlE,IAAA,MAAAmE,QAAAiC,IACAhC,KAAA,SAAAC,GACA,MAAAA,EAAA,KACAyB,EAAAQ,SAAAC,KAAA,WACAT,EAAAU,cACAV,EAAA1E,aAAA,KAGAsD,MAAA,SAAAC,GACAmB,EAAAQ,SAAAC,KAAA,SAAA5B,UAbAqB,MAAA,aAiBAG,cA1EA,SA0EAM,EAAA/G,EAAAgH,EAAAC,EAAAC,EAAAC,GACA,IAAAC,KASA,OARAA,EAAAC,cAAAJ,EACAG,EAAAE,gBAAAJ,EACAE,EAAAG,UAAAvH,EACAoH,EAAAI,aAAAL,EACAC,EAAAK,YAAAC,IAAAV,GACAI,EAAAO,cACA5B,EAAA,EAAA6B,mBAAAb,EAAAjB,UAAA3F,KAAAoF,MAAA,SACA6B,EAAAO,WAAAZ,EAAAjB,UACAsB,GAEA/F,cAtFA,SAsFAV,GACA,IAAAkH,EAAAlH,EAAAkF,MACA1F,KAAAsC,kBAAA,EACAtC,KAAA2C,iBAAA3C,KAAAqB,SAAAqG,GACA,iBAAA1H,KAAA2C,iBAAA6E,aACAxH,KAAA2C,iBAAA6E,WAAA5B,EAAA,EAAAC,KAAA7F,KAAA2C,iBAAA6E,cAIAG,aA/FA,WA+FA,IAAAC,EAAA5H,KACA6H,EAAArB,IAAAxG,KAAA2C,kBAEAmF,EAAA9H,KAAA+H,oBAAAC,KAAAC,MAAAJ,WACAC,EAAAI,WACA,IAAAC,EAAA3B,IAAAsB,GACAM,EAAApI,KAAAqI,mBAAArI,KAAA2C,iBAAAmF,GACAQ,EAAAtI,KAAA2C,iBAAA2F,GACAF,EACApI,KAAAqE,MAAA,gBAAAlE,IAAA,SAAAO,KAAA,QAAA4D,QAAA6D,EAAAG,OACA/D,KAAA,SAAAC,GACA,MAAAA,EAAA,KACAoD,EAAAnB,SAAAC,KAAA,QACAkB,EAAAjB,iBAGA9B,MAAA,SAAAC,GACA8C,EAAAnB,SAAAC,KAAA,OAAA5B,KAGAoB,OAAAC,MAAA,eAEAnG,KAAAuI,yBAEAR,oBAvHA,SAuHAS,GAYA,OAXAzD,QAAAC,IAAAhF,KAAAoF,OACA,KAAApF,KAAAuC,oBAAAE,mBACA+F,EAAApB,UAAApH,KAAAuC,oBAAAE,kBAEA,KAAAzC,KAAAuC,oBAAAC,yBACAgG,EAAArB,gBAAAnH,KAAAuC,oBAAAC,wBAEA,KAAAxC,KAAAuC,oBAAAG,sBACA8F,EAAAnB,aAAArH,KAAAuC,oBAAAG,qBAEAkD,EAAA,EAAA6B,mBAAAe,EAAAhB,WAAAxH,KAAAoF,MAAA,UACAoD,GAEAC,mBArIA,WAsIAzI,KAAAuI,yBAEAA,sBAxIA,WAyIAvI,KAAAuC,oBAAAG,oBAAA,GACA1C,KAAAuC,oBAAAE,iBAAA,GACAzC,KAAAuC,oBAAAC,uBAAA,GACAxC,KAAA2C,qBAEA0F,mBA9IA,SA8IAK,EAAAC,GACA,IACAC,EAAAF,EAAAtB,UACAyB,EAAAH,EAAAvB,gBACA2B,EAAAJ,EAAArB,aACA0B,EAAAJ,EAAAvB,UACA4B,EAAAL,EAAAxB,gBACA8B,EAAAN,EAAAtB,aACA,OAAAuB,IAAAG,GAAAF,IAAAG,GAAAF,IAAAG,GAIArD,EAAA,EAAAsD,YAAAR,EAAAlB,WAAAmB,EAAAnB,aAGArG,iBA7JA,SA6JAX,GACAR,KAAA4C,sBAAA,EACA5C,KAAA+C,OAAAvC,EAAAkF,OAEAyD,eAjKA,WAkKAnJ,KAAA4C,sBAAA,EACA5C,KAAAgD,iBAAAE,QAAA,GACAlD,KAAAgD,iBAAAG,OAAA,IAEAiG,aAtKA,WAsKA,IAAAC,EAAArJ,KACAsJ,EAAAtJ,KAAAqB,SAAArB,KAAA+C,QAAAuF,GACAtI,KAAAoF,MAAA,iBAAAmE,SAAA,SAAAC,GACAA,IACAH,EAAAxG,iBAAA,EACAwG,EAAAhF,MAAA,gBAAAlE,IAAA,SAAAO,KAAA,SAAA4D,QAAAiD,IAAA8B,EAAArG,iBAAAG,QAAAmF,GAAAgB,IACA/E,KAAA,SAAAC,GACAO,QAAAC,IAAAR,GACA,MAAAA,EAAA,KACA6E,EAAA5C,SAAAC,KAAA,UACA2C,EAAAxG,iBAAA,EACAwG,EAAAzG,sBAAA,EACAyG,EAAArG,iBAAAE,QAAA,GACAmG,EAAArG,iBAAAG,OAAA,MAGA0B,MAAA,SAAAC,GACAuE,EAAA5C,SAAAC,KAAA,SAAA5B,GACAC,QAAAC,IAAAF,SAKA1D,QA7LA,SA6LAZ,GACAR,KAAA+D,aAAA,EACA/D,KAAAgE,MAAAxD,EAAAkF,OAEA+D,WAjMA,WAiMA,IAAAC,EAAA1J,KACAsI,EAAAtI,KAAAqB,SAAArB,KAAAgE,OAAAsE,GACAtI,KAAAqE,MAAA,gBAAAlE,IAAA,MAAAmI,OACA/D,KAAA,SAAAC,GACA,MAAAA,EAAA,KACAkF,EAAAjD,SAAAC,KAAA,QACAgD,EAAA/C,cACA+C,EAAA3F,aAAA,KAGAc,MAAA,SAAAC,GACA4E,EAAAjD,SAAAC,KAAA,OAAA5B,MAGA6B,YA/MA,WA+MA,IAAAgD,EAAA3J,KACAA,KAAAqE,MAAA,gBAAAlE,IAAA,SACAoE,KAAA,SAAAC,GACAmF,EAAAtI,YACA,QAAAoD,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IACAkF,EAAAtI,SAAAsD,KAAAH,EAAAC,IAEAkF,EAAArI,eAAAkD,IAEAK,MAAA,SAAAC,GACAC,QAAAC,IAAAF,OAIA8E,QAnWA,WAoWA,OAAApD,IAAAxG,KAAA6J,OAAAC,MAAAC,iBAAAhE,IAAA/F,KAAA6J,OAAAC,MAAAC,YACA/J,KAAAa,UAAAb,KAAA6J,OAAAC,MAAAC,UAAA/J,KAAAgK,OAAAnK,OAEAG,KAAA2G,eAEAsD,UACAC,EADA,WAEA,OAAAlK,KAAA6J,OAAAC,MAAAC,YAGAI,OACAD,GACAE,QAAA,SAAAC,GACA,QAAA5F,KAAA4F,EACA5F,IAAAzE,KAAAgK,OAAAnK,OACAG,KAAAa,UAAAwJ,EAAA5F,QCrfA6F,GADiBhK,OAFjB,WAA0B,IAAAiK,EAAAvK,KAAawK,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,UAAeG,OAAOnK,KAAA,UAAAoK,KAAA,iBAAAlK,UAAA2J,EAAA1J,UAAA,OAAyEG,IAAKC,MAAAsJ,EAAArG,WAAqBqG,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA6CE,YAAA,cAAwBF,EAAA,WAAgBG,OAAOG,QAAAT,EAAAtK,YAAAH,KAAAyK,EAAAlJ,aAA+C,GAAAkJ,EAAAQ,GAAA,KAAAL,EAAA,OAA4BE,YAAA,UAAoBF,EAAA,SAAcG,OAAO3K,MAAA,QAAec,IAAKiK,YAAAV,EAAAzE,kBAAiCoF,OAAQtH,MAAA2G,EAAA,YAAA1G,SAAA,SAAAsH,GAAiDZ,EAAAhJ,YAAA4J,GAAoBC,WAAA,iBAA2BV,EAAA,OAAYE,YAAA,aAAuBF,EAAA,UAAeW,IAAA,aAAeX,EAAA,YAAiBG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAA,gBAAAC,aAAA,OAAmDL,OAAQtH,MAAA2G,EAAA9I,eAAA,aAAAoC,SAAA,SAAAsH,GAAiEZ,EAAAiB,KAAAjB,EAAA9I,eAAA,eAAA0J,IAAkDC,WAAA,kCAA2C,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAA,WAAwBJ,OAAQtH,MAAA2G,EAAA9I,eAAA,eAAAoC,SAAA,SAAAsH,GAAmEZ,EAAAiB,KAAAjB,EAAA9I,eAAA,iBAAA0J,IAAoDC,WAAA,oCAA6C,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAA,UAAuBJ,OAAQtH,MAAA2G,EAAA9I,eAAA,SAAAoC,SAAA,SAAAsH,GAA6DZ,EAAAiB,KAAAjB,EAAA9I,eAAA,WAAA0J,IAA8CC,WAAA,8BAAuC,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAA,UAAA5K,KAAA,YAA0CwK,OAAQtH,MAAA2G,EAAA9I,eAAA,aAAAoC,SAAA,SAAAsH,GAAiEZ,EAAAiB,KAAAjB,EAAA9I,eAAA,eAAA0J,IAAkDC,WAAA,kCAA2C,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAA,WAAwBJ,OAAQtH,MAAA2G,EAAA9I,eAAA,YAAAoC,SAAA,SAAAsH,GAAgEZ,EAAAiB,KAAAjB,EAAA9I,eAAA,cAAA0J,IAAiDC,WAAA,iCAA0C,OAAAb,EAAAQ,GAAA,KAAAL,EAAA,OAAgCE,YAAA,eAAyBF,EAAA,UAAeG,OAAOnK,KAAA,WAAiBM,IAAKC,MAAAsJ,EAAApG,kBAA4BoG,EAAAQ,GAAA,0CAAAR,EAAAQ,GAAA,KAAAR,EAAA,eAAAG,EAAA,OAA8FE,YAAA,oBAA8BF,EAAA,YAAiBG,OAAOY,UAAA,MAAgBf,EAAA,SAAcG,OAAOhL,KAAA,gBAAqB6K,EAAA,QAAAH,EAAAQ,GAAAR,EAAAmB,GAAAnB,EAAArI,SAAA,UAAAqI,EAAAQ,GAAA,KAAAL,EAAA,OAAwEG,OAAOc,KAAA,WAAiBA,KAAA,YAAgBjB,EAAA,YAAiBG,OAAOY,UAAA,KAAgBlB,EAAAqB,GAAArB,EAAAlI,eAAA,mBAAAwJ,EAAAxB,EAAA3E,GAAiE,OAAAgF,EAAA,SAAmBvK,IAAAkK,EAAAQ,OAAehL,KAAAwK,KAAYK,EAAA,QAAAH,EAAAQ,GAAAR,EAAAmB,GAAArB,MAAAE,EAAAQ,GAAA,KAAAR,EAAAqB,GAAA,WAAAE,EAAAjM,GAAkF,OAAA6K,EAAA,OAAiBvK,IAAAN,EAAA+K,YAAA,cAAAC,OAA0Cc,KAAA,WAAiBA,KAAA,YAAgBjB,EAAA,KAAUE,YAAA,gBAA0BL,EAAAQ,GAAAR,EAAAmB,GAAA7L,MAAA0K,EAAAQ,GAAA,KAAAL,EAAA,YAAoDW,IAAA,QAAAxL,EAAA6F,EAAAqG,UAAA,EAAAnB,YAAA,WAAAC,OAAuEjH,MAAAkI,MAAc,MAAM,OAAM,aAAAvB,EAAAyB,MAAA,GAAAzB,EAAAQ,GAAA,KAAAL,EAAA,OAAoDG,OAAOc,KAAA,UAAgBA,KAAA,WAAejB,EAAA,UAAe1J,IAAIC,MAAAsJ,EAAAzE,oBAA8ByE,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,UAA0CG,OAAOnK,KAAA,WAAiBM,IAAKC,MAAAsJ,EAAAvE,iBAA2BuE,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAA+CuB,aAAaC,UAAE,UAAiBrB,OAAQ3K,MAAA,QAAec,IAAKmL,QAAA5B,EAAAtF,cAAyBiG,OAAQtH,MAAA2G,EAAA,cAAA1G,SAAA,SAAAsH,GAAmDZ,EAAAxI,cAAAoJ,GAAsBC,WAAA,mBAA6BV,EAAA,OAAYE,YAAA,UAAoBF,EAAA,cAAmBQ,OAAOtH,MAAA2G,EAAA,aAAA1G,SAAA,SAAAsH,GAAkDZ,EAAAtI,aAAAkJ,GAAqBC,WAAA,iBAA4Bb,EAAAqB,GAAArB,EAAA,mBAAA1K,EAAA6F,GAA6C,OAAAgF,EAAA,SAAmBvK,IAAAuF,EAAA2F,IAAA,QAAAU,UAAA,EAAAlB,OAA2CtF,MAAA1F,SAAgB,KAAA0K,EAAAQ,GAAA,KAAAL,EAAA,SAAiCG,OAAO3K,MAAA,QAAec,IAAKmL,QAAA5B,EAAA5C,aAAAsD,YAAAV,EAAA9B,oBAA4DyC,OAAQtH,MAAA2G,EAAA,iBAAA1G,SAAA,SAAAsH,GAAsDZ,EAAAjI,iBAAA6I,GAAyBC,WAAA,sBAAgCV,EAAA,OAAYE,YAAA,aAAuBF,EAAA,UAAeW,IAAA,qBAAuBX,EAAA,YAAiBG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAAf,EAAA5H,iBAAAwE,iBAAmD+D,OAAQtH,MAAA2G,EAAAhI,oBAAA,uBAAAsB,SAAA,SAAAsH,GAAgFZ,EAAAiB,KAAAjB,EAAAhI,oBAAA,yBAAA4I,IAAiEC,WAAA,iDAA0D,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAAf,EAAA5H,iBAAAyE,WAA6C8D,OAAQtH,MAAA2G,EAAAhI,oBAAA,iBAAAsB,SAAA,SAAAsH,GAA0EZ,EAAAiB,KAAAjB,EAAAhI,oBAAA,mBAAA4I,IAA2DC,WAAA,2CAAoD,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,WAAiBmF,EAAA,WAAgBG,OAAOS,YAAAf,EAAA5H,iBAAA0E,cAAgD6D,OAAQtH,MAAA2G,EAAAhI,oBAAA,oBAAAsB,SAAA,SAAAsH,GAA6EZ,EAAAiB,KAAAjB,EAAAhI,oBAAA,sBAAA4I,IAA8DC,WAAA,8CAAuD,OAAAb,EAAAQ,GAAA,KAAAL,EAAA,OAAgCE,YAAA,oBAA8BF,EAAA,YAAiBG,OAAOY,UAAA,MAAgBf,EAAA,SAAcG,OAAOhL,KAAA,gBAAqB6K,EAAA,QAAAH,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAoDG,OAAOc,KAAA,WAAiBA,KAAA,YAAgBjB,EAAA,YAAiBG,OAAOY,UAAA,KAAgBlB,EAAAqB,GAAArB,EAAA5H,iBAAA,oBAAAkJ,EAAAxB,EAAA3E,GAAoE,OAAAgF,EAAA,SAAmBvK,IAAAkK,EAAAQ,OAAehL,KAAAwK,KAAYK,EAAA,QAAAH,EAAAQ,GAAAR,EAAAmB,GAAArB,MAAAE,EAAAQ,GAAA,KAAAR,EAAAqB,GAAA,WAAAE,EAAAjM,GAAkF,OAAA6K,EAAA,OAAiBvK,IAAAN,EAAA+K,YAAA,cAAAC,OAA0Cc,KAAA,WAAiBA,KAAA,YAAgBjB,EAAA,KAAUE,YAAA,gBAA0BL,EAAAQ,GAAAR,EAAAmB,GAAA7L,MAAA0K,EAAAQ,GAAA,KAAAL,EAAA,YAAoDW,IAAA,SAAAxL,EAAA6F,EAAAqG,UAAA,EAAAnB,YAAA,WAAAC,OAAwEjH,MAAAkI,MAAc,MAAM,OAAM,mBAAAvB,EAAAQ,GAAA,KAAAL,EAAA,SAA+CG,OAAO3K,MAAA,QAAegL,OAAQtH,MAAA2G,EAAA,qBAAA1G,SAAA,SAAAsH,GAA0DZ,EAAA3H,qBAAAuI,GAA6BC,WAAA,0BAAoCV,EAAA,QAAaW,IAAA,mBAAAR,OAA8BK,MAAAX,EAAAvH,iBAAAoJ,cAAA,IAAAC,iBAAA,QAAAC,MAAA/B,EAAAnH,oBAAsGsH,EAAA,YAAiBG,OAAOtF,MAAA,MAAAgH,KAAA,aAAgC7B,EAAA,SAAcG,OAAOS,YAAA,gBAAA5K,KAAA,YAAgDwK,OAAQtH,MAAA2G,EAAAvH,iBAAA,QAAAa,SAAA,SAAAsH,GAA8DZ,EAAAiB,KAAAjB,EAAAvH,iBAAA,UAAAmI,IAA+CC,WAAA,+BAAwC,GAAAb,EAAAQ,GAAA,KAAAL,EAAA,YAAiCG,OAAOtF,MAAA,QAAAgH,KAAA,YAAiC7B,EAAA,SAAcG,OAAOS,YAAA,WAAA5K,KAAA,YAA2CwK,OAAQtH,MAAA2G,EAAAvH,iBAAA,OAAAa,SAAA,SAAAsH,GAA6DZ,EAAAiB,KAAAjB,EAAAvH,iBAAA,SAAAmI,IAA8CC,WAAA,8BAAuC,OAAAb,EAAAQ,GAAA,KAAAL,EAAA,OAAgCG,OAAOc,KAAA,UAAgBA,KAAA,WAAejB,EAAA,UAAeG,OAAOnK,KAAA,QAAcM,IAAKC,MAAAsJ,EAAApB,kBAA4BoB,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,UAA0CG,OAAOnK,KAAA,UAAA8L,QAAAjC,EAAA1H,iBAA+C7B,IAAKC,MAAAsJ,EAAAnB,gBAA0BmB,EAAAQ,GAAA,gBAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAAiDG,OAAOzK,MAAA,OAAc8K,OAAQtH,MAAA2G,EAAA,YAAA1G,SAAA,SAAAsH,GAAiDZ,EAAAxG,YAAAoH,GAAoBC,WAAA,iBAA2BV,EAAA,KAAUuB,aAAaQ,MAAA,mBAAAC,aAAA,UAAiD7B,OAAQc,KAAA,UAAgBA,KAAA,WAAejB,EAAA,QAAaG,OAAOnK,KAAA,yBAA8B6J,EAAAQ,GAAA,KAAAL,EAAA,QAAAH,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAoEuB,aAAaS,aAAA,YAAuBhC,EAAA,KAAAH,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA2DG,OAAOc,KAAA,UAAgBA,KAAA,WAAejB,EAAA,UAAeG,OAAOnK,KAAA,QAAAC,KAAA,QAAAgM,KAAA,IAAwC3L,IAAKC,MAAAsJ,EAAAd,cAAwBc,EAAAQ,GAAA,qBAEp9O6B,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAnN,EACA0K,GATA,EAVA,SAAA0C,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/13.772a97f35a87ce335f49.js","sourcesContent":["<template>\n  <div class=\"user-container\">\n    <div class=\"user-add\">\n      <Button type=\"primary\" icon=\"ios-plus-empty\" @click=\"addUser\" :disabled=\"!levelMess['新建']\">新增用户</Button>\n    </div>\n    <div class=\"user-list\">\n      <i-table :columns=\"columnsData\" :data=\"userData\"></i-table>\n    </div>\n    <div class=\"modal\">\n      <Modal v-model=\"userAddFlag\" title=\"用户新增\" @on-cancel=\"clearUserAddData\">\n        <div class=\"user-con\">\n          <i-form ref=\"formUser\">\n            <FormItem label=\"用户账号：\">\n              <i-input placeholder = \"请输入账号，账号格式是邮箱\" v-model=\"userAddInpData.userAccounts\" autocomplete=\"off\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户部门：\">\n              <i-input placeholder = \"请输入用户部门\" v-model=\"userAddInpData.userDepartment\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户名字：\">\n              <i-input placeholder = \"请输入用户名\" v-model=\"userAddInpData.userName\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户密码：\">\n              <i-input placeholder = \"请输入用户密码\" v-model=\"userAddInpData.userPassword\" type=\"password\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户备注：\">\n              <i-input placeholder = \"请输入用户备注\" v-model=\"userAddInpData.userRemarks\"></i-input>\n            </FormItem>\n          </i-form>\n          <div class=\"level-type\">\n            <Button type=\"primary\" @click=\"levelTypeChose\">\n              选择权限模板\n            </Button>\n          </div>\n          <div class=\"user-access-tem\" v-if=\"accessListShow\">\n            <Collapse accordion>\n              <Panel name=\"user_level\">\n                <span>{{temName}}权限列表</span>\n                <div slot=\"content\">\n                  <Collapse accordion>\n                    <Panel v-for=\"(items, val, index) in accessListData.tem_level\"  :key=\"val\" :name=\"val\">\n                      <span>{{val}}</span>\n                      <div slot=\"content\" v-for=\"(list, name) in items\" :key=\"name\" class=\"access-list\">\n                        <p class=\"access-text\">{{name}}</p>\n                        <Checkbox  class=\"checkbox\" :ref=\" 'bulid' + name + index\" :value=\"list\"></Checkbox>\n                      </div>\n                    </Panel>\n                  </Collapse>\n                </div>\n              </Panel>\n            </Collapse>\n          </div>\n        </div>\n        <div slot=\"footer\">\n          <Button @click=\"clearUserAddData\">重置</Button>\n          <Button type=\"primary\" @click=\"submitUserAdd\">提交</Button>\n        </div>\n      </Modal>\n      <Modal v-model=\"levelTypeShow\" title=\"权限模板\" style=\"{zIndex: '100'}\" @on-ok=\"choseTemName\">\n        <div class=\"radio\">\n          <RadioGroup v-model=\"choseDefault\">\n            <Radio :label=\"name\" v-for=\"(name, index) in choseList\" :key=\"index\" ref=\"radio\"></Radio>\n          </RadioGroup>\n        </div>\n      </Modal>\n      <Modal v-model=\"userModifierFlag\" title=\"用户修改\" @on-ok=\"userModifier\" @on-cancel=\"userModifierCancel\">\n        <div class=\"user-con\">\n          <i-form ref=\"formUserModifier\">\n            <FormItem label=\"用户部门：\">\n              <i-input :placeholder = \"userModifierData.user_department\" v-model=\"userModifierInpData.userModifierDepartment\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户名字：\">\n              <i-input :placeholder = \"userModifierData.user_name\" v-model=\"userModifierInpData.userModifierName\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户备注：\">\n              <i-input :placeholder = \"userModifierData.user_remarks\" v-model=\"userModifierInpData.userModifierRemarks\"></i-input>\n            </FormItem>\n          </i-form>\n          <div class=\"user-access-tem\">\n            <Collapse accordion>\n              <Panel name=\"user_level\">\n                <span>权限列表</span>\n                <div slot=\"content\">\n                  <Collapse accordion>\n                    <Panel v-for=\"(items, val, index) in userModifierData.user_level\"  :key=\"val\" :name=\"val\">\n                      <span>{{val}}</span>\n                      <div slot=\"content\" v-for=\"(list, name) in items\" :key=\"name\" class=\"access-list\">\n                        <p class=\"access-text\">{{name}}</p>\n                        <Checkbox  class=\"checkbox\" :ref=\" 'modifi' + name + index\" :value=\"list\"></Checkbox>\n                      </div>\n                    </Panel>\n                  </Collapse>\n                </div>\n              </Panel>\n            </Collapse>\n          </div>\n        </div>\n      </Modal>\n      <Modal v-model=\"modifierPasswordShow\" title=\"修改密码\">\n        <Form ref=\"editPasswordForm\" :model=\"editPasswordForm\" :label-width=\"100\" label-position=\"right\" :rules=\"passwordValidate\">\n          <!--<FormItem label=\"原密码\" prop=\"oldPass\" :error=\"oldPassError\">-->\n            <!--<Input v-model=\"editPasswordForm.oldPass\" placeholder=\"请输入现在使用的密码\" ></Input>-->\n          <!--</FormItem>-->\n          <FormItem label=\"新密码\" prop=\"newPass\">\n            <Input v-model=\"editPasswordForm.newPass\" placeholder=\"请输入新密码，至少6位字符\" type=\"password\"></Input>\n          </FormItem>\n          <FormItem label=\"确认新密码\" prop=\"rePass\">\n            <Input v-model=\"editPasswordForm.rePass\" placeholder=\"请再次输入新密码\" type=\"password\"></Input>\n          </FormItem>\n        </Form>\n        <div slot=\"footer\">\n          <Button type=\"text\" @click=\"cancelEditPass\">取消</Button>\n          <Button type=\"primary\" :loading=\"savePassLoading\" @click=\"saveEditPass\">保存</Button>\n        </div>\n      </Modal>\n      <Modal v-model=\"userDelShow\" width=\"360\">\n        <p slot=\"header\" style=\"color: rgb(255, 102, 0);text-align: center\">\n          <Icon type=\"information-circled\"></Icon>\n          <span>删除确认</span>\n        </p>\n        <div style=\"text-align: center\">\n          <p>该用户一经删除，无法恢复</p>\n        </div>\n        <div slot=\"footer\">\n          <Button type=\"error\" size=\"large\" long @click=\"confirmDel\">删除</Button>\n        </div>\n      </Modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport util from '../.././util/index'\nimport md5 from 'js-md5'\nexport default {\n  name: 'userAdmin',\n  data () {\n    const valideRePassword = (rule, value, callback) => {\n      if (value !== this.editPasswordForm.newPass) {\n        callback(new Error('两次密码输入不一致'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      columnsData: [\n        {\n          title: '用户名称',\n          key: 'user_name'\n        },\n        {\n          title: '用户部门',\n          key: 'user_department'\n        },\n        {\n          title: '用户创建时间',\n          key: 'user_times'\n        },\n        {\n          title: '用户备注',\n          key: 'user_remarks'\n        },\n        {\n          title: '操作',\n          key: 'option',\n          width: 250,\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small',\n                  disabled: !this.levelMess['修改']\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.modifierLevel(params)\n                  }\n                }\n              }, '修改权限'),\n              h('Button', {\n                props: {\n                  type: 'info',\n                  size: 'small',\n                  disabled: !this.levelMess['修改']\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.modifierPassword(params)\n                  }\n                }\n              }, '修改密码'),\n              h('Button', {\n                props: {\n                  type: 'error',\n                  size: 'small',\n                  disabled: !this.levelMess['删除']\n                },\n                on: {\n                  click: () => {\n                    this.userDel(params)\n                  }\n                }\n              }, '删除用户')\n            ])\n          }\n        }\n      ], // table 数据\n      userData: [], // 所有用户信息，在table里展示\n      userOriginData: {}, // 初始数据，即所有的用户信息\n      userAddFlag: false, // 用户添加modal隐藏与显示\n      userAddData: {}, // 用户添加的数据\n      userAddInpData: {\n        userName: '',\n        userDepartment: '',\n        userPassword: '',\n        userRemarks: '',\n        userAccounts: ''\n      }, // 填写的数据\n      levelTypeShow: false, // 选择权限模板的 modal 隐藏与显示\n      choseList: [], // 可选择的模板数据\n      choseDefault: '默认模板', // 选中默认模板\n      temName: '', // 所有的模板名字\n      temData: '', // 所有的模板数据\n      accessListShow: false, // 刚开始没有选中模板，权限列表隐藏\n      accessListData: {}, // 选中的模板的数据\n      userModifierFlag: false, // 修改权限的modal隐藏与显示\n      userModifierInpData: {\n        userModifierDepartment: '',\n        userModifierName: '',\n        userModifierRemarks: ''\n      }, // 修改modal中填写的数据\n      userModifierData: '', // 当前修改的原始数据\n      modifierPasswordShow: false, // 修改密码的modal的隐藏于显示\n      savePassLoading: false, // 提交修改密码后，提交按钮变为加载状态\n      oldPassError: '', // 暂时无数据\n      passId: '', // 点击修改密码是，获取index,根据index,确定那个用户的密码修改\n      editPasswordForm: {\n        oldPass: '',\n        newPass: '',\n        rePass: ''\n      }, // 修改密码的数据\n      passwordValidate: {\n        oldPass: [\n          {required: true, message: '请输入原密码', trigger: 'blur'}\n        ],\n        newPass: [\n          {required: true, message: '请输入新密码', trigger: 'blur'},\n          {min: 6, message: '请至少输入6个字符', trigger: 'blur'},\n          {max: 32, message: '最多输入32个字符', trigger: 'blur'}\n        ],\n        rePass: [\n          {required: true, message: '请再次输入新密码', trigger: 'blur'},\n          {validator: valideRePassword, trigger: 'blur'}\n        ]\n      }, // 设置表单校验\n      userDelShow: false, // 删除用户的modal的隐藏与显示\n      delId: '', // 删除的索引\n      levelMess: {}\n    }\n  },\n  methods: {\n    addUser () { // 添加用户modal 弹出\n      this.userAddFlag = true\n    },\n    levelTypeChose () { // 获取权限模板\n      this.levelTypeShow = true\n      this.$post('/webapi/template', {key: 'get_default_tem', content: 'all'})\n        .then(res => {\n          this.temData = res\n          this.choseList = []\n          for (let i = 0; i < res.length; i++) {\n            this.choseList.push(res[i].tem_name)\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    choseTemName () { // 选中的权限模板\n      let len = this.$refs.radio.length\n      for (let i = 0; i < len; i++) {\n        if (this.$refs.radio[i].currentValue === true) {\n          this.temName = this.$refs.radio[i].label\n        }\n      }\n      this.temData.forEach((item, index) => {\n        if (item.tem_name === this.temName) {\n          this.accessListData = item\n        }\n      })\n      this.accessListData.tem_level = util.evil(this.accessListData.tem_level)\n      // util.chartToBol(this.accessListData.tem_level)\n      this.accessListShow = true\n    },\n    clearUserAddData () { // 重置用户新增 modal\n      this.accessListData = {}\n      this.temName = ''\n      this.userAddInpData.userName = ''\n      this.userAddInpData.userAccounts = ''\n      this.userAddInpData.userDepartment = ''\n      this.userAddInpData.userPassword = ''\n      this.userAddInpData.userRemarks = ''\n      if (this.$refs.radio !== undefined && this.$refs.radio !== null) { // 初始化权限选择模板\n        for (let i = 0; i < this.$refs.radio.length; i++) {\n          this.$refs.radio[i].currentValue = false\n        }\n        this.$refs.radio[0].currentValue = true\n      }\n      this.accessListShow = false\n    },\n    submitUserAdd () { // 提交用户新增数据\n      const reg = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/\n      if (this.userAddInpData.userName === '' || this.userAddInpData.userAccounts === '' || this.userAddInpData.userDepartment === '' || this.userAddInpData.userRemarks === '' || this.userAddInpData.userPassword === '') {\n        window.alert('请填写完整的用户信息！')\n      } else if (this.accessListShow === false) {\n        window.alert('请选择权限模板')\n      } else if (!reg.test(this.userAddInpData.userAccounts)) {\n        alert('邮箱格式不正确！')\n      } else {\n        let obj = this.submitMessOpt(this.accessListData, this.userAddInpData.userName, this.userAddInpData.userPassword, this.userAddInpData.userAccounts, this.userAddInpData.userDepartment, this.userAddInpData.userRemarks)\n        let subChart = JSON.stringify(obj)\n        this.$post('/webapi/user', {key: 'add', content: subChart})\n          .then(res => {\n            if (res[1] === 200) {\n              this.$Message.info('用户新增成功！')\n              this.getUserData()\n              this.userAddFlag = false\n            }\n          })\n          .catch(err => {\n            this.$Message.info('用户新增失败' + err)\n          })\n      }\n    },\n    submitMessOpt (submitData, name, password, accounts, department, remarks) {\n      let submitObj = {}\n      submitObj.user_accounts = accounts\n      submitObj.user_department = department\n      submitObj.user_name = name\n      submitObj.user_remarks = remarks\n      submitObj.user_passwd = md5(password)\n      submitObj.user_level = {}\n      util.changeCurrentValue(submitData.tem_level, this.$refs, 'bulid')\n      submitObj.user_level = submitData.tem_level\n      return submitObj\n    },\n    modifierLevel (params) { // 修改权限模板 modal 弹出\n      let ind = params.index\n      this.userModifierFlag = true\n      this.userModifierData = this.userData[ind]\n      if (typeof this.userModifierData.user_level === 'string') {\n        this.userModifierData.user_level = util.evil(this.userModifierData.user_level)\n      }\n      // util.chartToBol(this.userModifierData.user_level)\n    },\n    userModifier () { // 提交修改后的数据\n      let modifierChart = JSON.stringify(this.userModifierData) // 此处要把用户修改的初始数据转换后赋值给新变量，\n      // 不赋值，那么修改了数据，this.userModifierData 的数据也同步发生变化，则无法判断数据是否发生变化\n      let modifierDataObj = this.userModifierDataOpt(JSON.parse(modifierChart))\n      delete modifierDataObj.user_times\n      let chartSub = JSON.stringify(modifierDataObj)\n      let flag = this.userModifierChange(this.userModifierData, modifierDataObj)\n      let id = this.userModifierData.id\n      if (flag) {\n        this.$post('/webapi/user', {key: 'update', type: 'level', content: chartSub, id: id})\n          .then(res => {\n            if (res[1] === 200) {\n              this.$Message.info('修改成功')\n              this.getUserData()\n            }\n          })\n          .catch(err => {\n            this.$Message.info('修改失败' + err)\n          })\n      } else {\n        window.alert('提交失败，数据没有更改')\n      }\n      this.clearUserModifierData()\n    },\n    userModifierDataOpt (optionData) { // 修改后的数据的收集\n      console.log(this.$refs)\n      if (this.userModifierInpData.userModifierName !== '') {\n        optionData.user_name = this.userModifierInpData.userModifierName\n      }\n      if (this.userModifierInpData.userModifierDepartment !== '') {\n        optionData.user_department = this.userModifierInpData.userModifierDepartment\n      }\n      if (this.userModifierInpData.userModifierRemarks !== '') {\n        optionData.user_remarks = this.userModifierInpData.userModifierRemarks\n      }\n      util.changeCurrentValue(optionData.user_level, this.$refs, 'modifi')\n      return optionData\n    },\n    userModifierCancel () { // 重置修改权限 modal 数据\n      this.clearUserModifierData()\n    },\n    clearUserModifierData () { // 重置修改权限 modal 数据\n      this.userModifierInpData.userModifierRemarks = ''\n      this.userModifierInpData.userModifierName = ''\n      this.userModifierInpData.userModifierDepartment = ''\n      this.userModifierData = {}\n    },\n    userModifierChange (unChangeData, changeData) { // 判断修改权限 modal 里面的数据是否更改\n      let changeFlag = false\n      let unChangeName = unChangeData.user_name\n      let unChangeDepartment = unChangeData.user_department\n      let unChangeRemarks = unChangeData.user_remarks\n      let changeName = changeData.user_name\n      let changeDepartment = changeData.user_department\n      let changeRemarks = changeData.user_remarks\n      if (unChangeName !== changeName || unChangeDepartment !== changeDepartment || unChangeRemarks !== changeRemarks) {\n        changeFlag = true\n        return changeFlag\n      }\n      changeFlag = util.changeValue(unChangeData.user_level, changeData.user_level)\n      return changeFlag\n    },\n    modifierPassword (params) { // 提供修改密码的索引\n      this.modifierPasswordShow = true\n      this.passId = params.index\n    },\n    cancelEditPass () { // 取消修改密码\n      this.modifierPasswordShow = false\n      this.editPasswordForm.newPass = ''\n      this.editPasswordForm.rePass = ''\n    },\n    saveEditPass () { // 保存修改后的密码\n      let modifierId = this.userData[this.passId].id\n      this.$refs['editPasswordForm'].validate((valid) => {\n        if (valid) {\n          this.savePassLoading = true\n          this.$post('/webapi/user', {key: 'update', type: 'passwd', content: md5(this.editPasswordForm.rePass), id: modifierId})\n            .then(res => {\n              console.log(res)\n              if (res[1] === 200) {\n                this.$Message.info('密码修改成功')\n                this.savePassLoading = false\n                this.modifierPasswordShow = false\n                this.editPasswordForm.newPass = ''\n                this.editPasswordForm.rePass = ''\n              }\n            })\n            .catch(err => {\n              this.$Message.info('修改密码失败' + err)\n              console.log(err)\n            })\n        }\n      })\n    },\n    userDel (params) { // 获取删除的索引\n      this.userDelShow = true\n      this.delId = params.index\n    },\n    confirmDel () { // 确认删除\n      let id = this.userData[this.delId].id\n      this.$post('/webapi/user', {key: 'del', id: id})\n        .then(res => {\n          if (res[1] === 200) {\n            this.$Message.info('删除成功')\n            this.getUserData()\n            this.userDelShow = false\n          }\n        })\n        .catch(err => {\n          this.$Message.info('删除失败' + err)\n        })\n    },\n    getUserData () { // 用户管理界面初始数据\n      this.$post('/webapi/user', {key: 'show'})\n        .then(res => {\n          this.userData = []\n          for (let i = 0; i < res.length; i++) {\n            this.userData.push(res[i])\n          }\n          this.userOriginData = res\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  },\n  mounted () {\n    if (JSON.stringify(this.$store.state.userLevel) !== '{}' && this.$store.state.userLevel !== undefined) {\n      this.levelMess = this.$store.state.userLevel[this.$route.name]\n    }\n    this.getUserData()\n  },\n  computed: {\n    a () {\n      return this.$store.state.userLevel\n    }\n  },\n  watch: {\n    a: {\n      handler: function (val) {\n        for (let i in val) {\n          if (i === this.$route.name) {\n            this.levelMess = val[i]\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .user-container{\n    width: 100%;\n    padding: 14px 16px;\n  }\n  .user-container .user-add{\n    margin-bottom: 10px;\n  }\n  .user-con .ivu-form-item{\n    margin-bottom: 10px;\n  }\n  .user-access-tem .access-list{\n    height: 40px;\n    line-height: 40px;\n    border-bottom: 1px solid rgba(0, 0, 0, .2);\n  }\n  .user-access-tem .access-list:last-child{\n    border: none;\n  }\n  .user-access-tem .access-text{\n    display: inline-block;\n    font-size: 12px;\n    line-height: 40px;\n    color: #2d8cf0\n  }\n  .user-access-tem .checkbox{\n    float: right;\n  }\n  .level-type{\n    margin: 15px 0 20px 0;\n  }\n  .btn{\n    margin-top: 20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user-admin/userAdmin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-container\"},[_c('div',{staticClass:\"user-add\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-plus-empty\",\"disabled\":!_vm.levelMess['新建']},on:{\"click\":_vm.addUser}},[_vm._v(\"新增用户\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"user-list\"},[_c('i-table',{attrs:{\"columns\":_vm.columnsData,\"data\":_vm.userData}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('Modal',{attrs:{\"title\":\"用户新增\"},on:{\"on-cancel\":_vm.clearUserAddData},model:{value:(_vm.userAddFlag),callback:function ($$v) {_vm.userAddFlag=$$v},expression:\"userAddFlag\"}},[_c('div',{staticClass:\"user-con\"},[_c('i-form',{ref:\"formUser\"},[_c('FormItem',{attrs:{\"label\":\"用户账号：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入账号，账号格式是邮箱\",\"autocomplete\":\"off\"},model:{value:(_vm.userAddInpData.userAccounts),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userAccounts\", $$v)},expression:\"userAddInpData.userAccounts\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户部门：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户部门\"},model:{value:(_vm.userAddInpData.userDepartment),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userDepartment\", $$v)},expression:\"userAddInpData.userDepartment\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名字：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.userAddInpData.userName),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userName\", $$v)},expression:\"userAddInpData.userName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户密码：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户密码\",\"type\":\"password\"},model:{value:(_vm.userAddInpData.userPassword),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userPassword\", $$v)},expression:\"userAddInpData.userPassword\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户备注：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户备注\"},model:{value:(_vm.userAddInpData.userRemarks),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userRemarks\", $$v)},expression:\"userAddInpData.userRemarks\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"level-type\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.levelTypeChose}},[_vm._v(\"\\n            选择权限模板\\n          \")])],1),_vm._v(\" \"),(_vm.accessListShow)?_c('div',{staticClass:\"user-access-tem\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},[_c('Panel',{attrs:{\"name\":\"user_level\"}},[_c('span',[_vm._v(_vm._s(_vm.temName)+\"权限列表\")]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},_vm._l((_vm.accessListData.tem_level),function(items,val,index){return _c('Panel',{key:val,attrs:{\"name\":val}},[_c('span',[_vm._v(_vm._s(val))]),_vm._v(\" \"),_vm._l((items),function(list,name){return _c('div',{key:name,staticClass:\"access-list\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('p',{staticClass:\"access-text\"},[_vm._v(_vm._s(name))]),_vm._v(\" \"),_c('Checkbox',{ref:'bulid' + name + index,refInFor:true,staticClass:\"checkbox\",attrs:{\"value\":list}})],1)})],2)}))],1)])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.clearUserAddData}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitUserAdd}},[_vm._v(\"提交\")])],1)]),_vm._v(\" \"),_c('Modal',{staticStyle:{\"{zIndex\":\"'100'}\"},attrs:{\"title\":\"权限模板\"},on:{\"on-ok\":_vm.choseTemName},model:{value:(_vm.levelTypeShow),callback:function ($$v) {_vm.levelTypeShow=$$v},expression:\"levelTypeShow\"}},[_c('div',{staticClass:\"radio\"},[_c('RadioGroup',{model:{value:(_vm.choseDefault),callback:function ($$v) {_vm.choseDefault=$$v},expression:\"choseDefault\"}},_vm._l((_vm.choseList),function(name,index){return _c('Radio',{key:index,ref:\"radio\",refInFor:true,attrs:{\"label\":name}})}))],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"用户修改\"},on:{\"on-ok\":_vm.userModifier,\"on-cancel\":_vm.userModifierCancel},model:{value:(_vm.userModifierFlag),callback:function ($$v) {_vm.userModifierFlag=$$v},expression:\"userModifierFlag\"}},[_c('div',{staticClass:\"user-con\"},[_c('i-form',{ref:\"formUserModifier\"},[_c('FormItem',{attrs:{\"label\":\"用户部门：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_department},model:{value:(_vm.userModifierInpData.userModifierDepartment),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierDepartment\", $$v)},expression:\"userModifierInpData.userModifierDepartment\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名字：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_name},model:{value:(_vm.userModifierInpData.userModifierName),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierName\", $$v)},expression:\"userModifierInpData.userModifierName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户备注：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_remarks},model:{value:(_vm.userModifierInpData.userModifierRemarks),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierRemarks\", $$v)},expression:\"userModifierInpData.userModifierRemarks\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"user-access-tem\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},[_c('Panel',{attrs:{\"name\":\"user_level\"}},[_c('span',[_vm._v(\"权限列表\")]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},_vm._l((_vm.userModifierData.user_level),function(items,val,index){return _c('Panel',{key:val,attrs:{\"name\":val}},[_c('span',[_vm._v(_vm._s(val))]),_vm._v(\" \"),_vm._l((items),function(list,name){return _c('div',{key:name,staticClass:\"access-list\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('p',{staticClass:\"access-text\"},[_vm._v(_vm._s(name))]),_vm._v(\" \"),_c('Checkbox',{ref:'modifi' + name + index,refInFor:true,staticClass:\"checkbox\",attrs:{\"value\":list}})],1)})],2)}))],1)])],1)],1)],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"修改密码\"},model:{value:(_vm.modifierPasswordShow),callback:function ($$v) {_vm.modifierPasswordShow=$$v},expression:\"modifierPasswordShow\"}},[_c('Form',{ref:\"editPasswordForm\",attrs:{\"model\":_vm.editPasswordForm,\"label-width\":100,\"label-position\":\"right\",\"rules\":_vm.passwordValidate}},[_c('FormItem',{attrs:{\"label\":\"新密码\",\"prop\":\"newPass\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新密码，至少6位字符\",\"type\":\"password\"},model:{value:(_vm.editPasswordForm.newPass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"newPass\", $$v)},expression:\"editPasswordForm.newPass\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"确认新密码\",\"prop\":\"rePass\"}},[_c('Input',{attrs:{\"placeholder\":\"请再次输入新密码\",\"type\":\"password\"},model:{value:(_vm.editPasswordForm.rePass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"rePass\", $$v)},expression:\"editPasswordForm.rePass\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelEditPass}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.savePassLoading},on:{\"click\":_vm.saveEditPass}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"width\":\"360\"},model:{value:(_vm.userDelShow),callback:function ($$v) {_vm.userDelShow=$$v},expression:\"userDelShow\"}},[_c('p',{staticStyle:{\"color\":\"rgb(255, 102, 0)\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"information-circled\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"删除确认\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(\"该用户一经删除，无法恢复\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\",\"long\":\"\"},on:{\"click\":_vm.confirmDel}},[_vm._v(\"删除\")])],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-436cdf04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user-admin/userAdmin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-436cdf04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userAdmin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdmin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdmin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-436cdf04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userAdmin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-436cdf04\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user-admin/userAdmin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}