{"version":3,"sources":["webpack:///src/components/user-admin/userAdmin.vue","webpack:///./src/components/user-admin/userAdmin.vue?1d16","webpack:///./src/components/user-admin/userAdmin.vue"],"names":["userAdmin","name","data","_this","this","columnsData","title","key","width","align","render","h","params","props","type","size","disabled","levelMess","style","marginRight","on","click","modifierLevel","modifierPassword","userDel","userData","userOriginData","userAddFlag","userAddData","userAddInpData","userName","userDepartment","userPassword","userRemarks","userAccounts","levelTypeShow","choseList","choseDefault","temName","temData","accessListShow","accessListData","userModifierFlag","userModifierInpData","userModifierDepartment","userModifierName","userModifierRemarks","userModifierData","modifierPasswordShow","savePassLoading","oldPassError","passId","editPasswordForm","oldPass","newPass","rePass","passwordValidate","required","message","trigger","min","max","validator","rule","value","callback","Error","userDelShow","delId","pageShow","pageNum","allData","serachData","methods","addUser","levelTypeChose","_this2","$post","content","then","res","i","length","push","tem_name","catch","err","console","log","choseTemName","_this3","len","$refs","radio","currentValue","label","forEach","item","index","tem_level","util","evil","clearUserAddData","undefined","submitUserAdd","_this4","window","alert","test","obj","submitMessOpt","subChart","stringify_default","$Message","info","getUserData","submitData","password","accounts","department","remarks","submitObj","user_accounts","user_department","user_name","user_remarks","user_passwd","md5_default","user_level","changeCurrentValue","ind","userModifier","_this5","modifierChart","modifierDataObj","userModifierDataOpt","JSON","parse","user_times","chartSub","flag","userModifierChange","id","clearUserModifierData","optionData","userModifierCancel","unChangeData","changeData","unChangeName","unChangeDepartment","unChangeRemarks","changeName","changeDepartment","changeRemarks","changeValue","cancelEditPass","saveEditPass","_this6","modifierId","validate","valid","confirmDel","_this7","_this8","slice","pageChange","num","remoteMethod","query","regx","RegExp","filter","array","choseUser","val","mounted","$store","state","userLevel","$route","computed","a","watch","handler","user_admin_userAdmin","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","_v","staticStyle","filterable","remote","remote-method","placeholder","on-change","_l","_s","columns","on-cancel","model","$$v","expression","ref","autocomplete","$set","accordion","slot","items","list","refInFor","_e","{zIndex","on-ok","label-width","label-position","rules","prop","loading","color","text-align","long","total","show-elevator","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.0d207947f22dbe4eb2aa.js","sourcesContent":["<template>\n  <div class=\"user-container\">\n    <div class=\"user-add\">\n      <Button type=\"primary\" icon=\"ios-plus-empty\" @click=\"addUser\" :disabled=\"!levelMess['新建']\">新增用户</Button>\n    </div>\n    <div class=\"search\">\n      <Icon type=\"ios-search\" class=\"search-icon\"></Icon>\n      <Select filterable style=\"width: 300px\" remote  :remote-method=\"remoteMethod\" placeholder=\"请输入用户名搜素\"\n              @on-change=\"choseUser\">\n        <Option v-for=\"(item, index) in serachData\" :key=\"index\" :value=\"item.user_name\">{{item.user_name}}</Option>\n      </Select>\n    </div>\n    <div class=\"user-list table\">\n      <i-table :columns=\"columnsData\" :data=\"userData\"></i-table>\n    </div>\n    <div class=\"modal\">\n      <Modal v-model=\"userAddFlag\" title=\"用户新增\" @on-cancel=\"clearUserAddData\">\n        <div class=\"user-con\">\n          <i-form ref=\"formUser\">\n            <FormItem label=\"用户账号：\">\n              <i-input placeholder = \"请输入账号，账号格式是邮箱\" v-model=\"userAddInpData.userAccounts\" autocomplete=\"off\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户部门：\">\n              <i-input placeholder = \"请输入用户部门\" v-model=\"userAddInpData.userDepartment\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户名字：\">\n              <i-input placeholder = \"请输入用户名\" v-model=\"userAddInpData.userName\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户密码：\">\n              <i-input placeholder = \"请输入用户密码\" v-model=\"userAddInpData.userPassword\" type=\"password\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户备注：\">\n              <i-input placeholder = \"请输入用户备注\" v-model=\"userAddInpData.userRemarks\"></i-input>\n            </FormItem>\n          </i-form>\n          <div class=\"level-type\">\n            <Button type=\"primary\" @click=\"levelTypeChose\">\n              选择权限模板\n            </Button>\n          </div>\n          <div class=\"user-access-tem\" v-if=\"accessListShow\">\n            <Collapse accordion>\n              <Panel name=\"user_level\">\n                <span>{{temName}}权限列表</span>\n                <div slot=\"content\">\n                  <Collapse accordion>\n                    <Panel v-for=\"(items, val, index) in accessListData.tem_level\"  :key=\"val\" :name=\"val\">\n                      <span>{{val}}</span>\n                      <div slot=\"content\" v-for=\"(list, name) in items\" :key=\"name\" class=\"access-list\">\n                        <p class=\"access-text\">{{name}}</p>\n                        <Checkbox  class=\"checkbox\" :ref=\" 'bulid' + name + index\" :value=\"list\"></Checkbox>\n                      </div>\n                    </Panel>\n                  </Collapse>\n                </div>\n              </Panel>\n            </Collapse>\n          </div>\n        </div>\n        <div slot=\"footer\">\n          <Button @click=\"clearUserAddData\">重置</Button>\n          <Button type=\"primary\" @click=\"submitUserAdd\">提交</Button>\n        </div>\n      </Modal>\n      <Modal v-model=\"levelTypeShow\" title=\"权限模板\" style=\"{zIndex: '100'}\" @on-ok=\"choseTemName\">\n        <div class=\"radio\">\n          <RadioGroup v-model=\"choseDefault\">\n            <Radio :label=\"name\" v-for=\"(name, index) in choseList\" :key=\"index\" ref=\"radio\"></Radio>\n          </RadioGroup>\n        </div>\n      </Modal>\n      <Modal v-model=\"userModifierFlag\" title=\"用户修改\" @on-ok=\"userModifier\" @on-cancel=\"userModifierCancel\">\n        <div class=\"user-con\">\n          <i-form ref=\"formUserModifier\">\n            <FormItem label=\"用户部门：\">\n              <i-input :placeholder = \"userModifierData.user_department\" v-model=\"userModifierInpData.userModifierDepartment\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户名字：\">\n              <i-input :placeholder = \"userModifierData.user_name\" v-model=\"userModifierInpData.userModifierName\"></i-input>\n            </FormItem>\n            <FormItem label=\"用户备注：\">\n              <i-input :placeholder = \"userModifierData.user_remarks\" v-model=\"userModifierInpData.userModifierRemarks\"></i-input>\n            </FormItem>\n          </i-form>\n          <div class=\"user-access-tem\">\n            <Collapse accordion>\n              <Panel name=\"user_level\">\n                <span>权限列表</span>\n                <div slot=\"content\">\n                  <Collapse accordion>\n                    <Panel v-for=\"(items, val, index) in userModifierData.user_level\"  :key=\"val\" :name=\"val\">\n                      <span>{{val}}</span>\n                      <div slot=\"content\" v-for=\"(list, name) in items\" :key=\"name\" class=\"access-list\">\n                        <p class=\"access-text\">{{name}}</p>\n                        <Checkbox  class=\"checkbox\" :ref=\" 'modifi' + name + index\" :value=\"list\"></Checkbox>\n                      </div>\n                    </Panel>\n                  </Collapse>\n                </div>\n              </Panel>\n            </Collapse>\n          </div>\n        </div>\n      </Modal>\n      <Modal v-model=\"modifierPasswordShow\" title=\"修改密码\">\n        <Form ref=\"editPasswordForm\" :model=\"editPasswordForm\" :label-width=\"100\" label-position=\"right\" :rules=\"passwordValidate\">\n          <!--<FormItem label=\"原密码\" prop=\"oldPass\" :error=\"oldPassError\">-->\n            <!--<Input v-model=\"editPasswordForm.oldPass\" placeholder=\"请输入现在使用的密码\" ></Input>-->\n          <!--</FormItem>-->\n          <FormItem label=\"新密码\" prop=\"newPass\">\n            <Input v-model=\"editPasswordForm.newPass\" placeholder=\"请输入新密码，至少6位字符\" type=\"password\"></Input>\n          </FormItem>\n          <FormItem label=\"确认新密码\" prop=\"rePass\">\n            <Input v-model=\"editPasswordForm.rePass\" placeholder=\"请再次输入新密码\" type=\"password\"></Input>\n          </FormItem>\n        </Form>\n        <div slot=\"footer\">\n          <Button type=\"text\" @click=\"cancelEditPass\">取消</Button>\n          <Button type=\"primary\" :loading=\"savePassLoading\" @click=\"saveEditPass\">保存</Button>\n        </div>\n      </Modal>\n      <Modal v-model=\"userDelShow\" width=\"360\">\n        <p slot=\"header\" style=\"color: rgb(255, 102, 0);text-align: center\">\n          <Icon type=\"information-circled\"></Icon>\n          <span>删除确认</span>\n        </p>\n        <div style=\"text-align: center\">\n          <p>该用户一经删除，无法恢复</p>\n        </div>\n        <div slot=\"footer\">\n          <Button type=\"error\" size=\"large\" long @click=\"confirmDel\">删除</Button>\n        </div>\n      </Modal>\n      <div class=\"page\">\n        <Page :total=\"pageNum\" show-elevator @on-change=\"pageChange\" v-if=\"pageShow\"></Page>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport util from '../.././util/index'\nimport md5 from 'js-md5'\nexport default {\n  name: 'userAdmin',\n  data () {\n    const valideRePassword = (rule, value, callback) => {\n      if (value !== this.editPasswordForm.newPass) {\n        callback(new Error('两次密码输入不一致'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      columnsData: [\n        {\n          title: '用户名称',\n          key: 'user_name'\n        },\n        {\n          title: '用户账号',\n          key: 'user_accounts'\n        },\n        {\n          title: '用户部门',\n          key: 'user_department'\n        },\n        {\n          title: '用户创建时间',\n          key: 'user_times'\n        },\n        {\n          title: '用户备注',\n          key: 'user_remarks'\n        },\n        {\n          title: '操作',\n          key: 'option',\n          width: 250,\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small',\n                  disabled: !this.levelMess['修改']\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.modifierLevel(params)\n                  }\n                }\n              }, '修改权限'),\n              h('Button', {\n                props: {\n                  type: 'info',\n                  size: 'small',\n                  disabled: !this.levelMess['修改']\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    this.modifierPassword(params)\n                  }\n                }\n              }, '修改密码'),\n              h('Button', {\n                props: {\n                  type: 'error',\n                  size: 'small',\n                  disabled: !this.levelMess['删除']\n                },\n                on: {\n                  click: () => {\n                    this.userDel(params)\n                  }\n                }\n              }, '删除用户')\n            ])\n          }\n        }\n      ], // table 数据\n      userData: [], // 所有用户信息，在table里展示\n      userOriginData: {}, // 初始数据，即所有的用户信息\n      userAddFlag: false, // 用户添加modal隐藏与显示\n      userAddData: {}, // 用户添加的数据\n      userAddInpData: {\n        userName: '',\n        userDepartment: '',\n        userPassword: '',\n        userRemarks: '',\n        userAccounts: ''\n      }, // 填写的数据\n      levelTypeShow: false, // 选择权限模板的 modal 隐藏与显示\n      choseList: [], // 可选择的模板数据\n      choseDefault: '默认模板', // 选中默认模板\n      temName: '', // 所有的模板名字\n      temData: '', // 所有的模板数据\n      accessListShow: false, // 刚开始没有选中模板，权限列表隐藏\n      accessListData: {}, // 选中的模板的数据\n      userModifierFlag: false, // 修改权限的modal隐藏与显示\n      userModifierInpData: {\n        userModifierDepartment: '',\n        userModifierName: '',\n        userModifierRemarks: ''\n      }, // 修改modal中填写的数据\n      userModifierData: '', // 当前修改的原始数据\n      modifierPasswordShow: false, // 修改密码的modal的隐藏于显示\n      savePassLoading: false, // 提交修改密码后，提交按钮变为加载状态\n      oldPassError: '', // 暂时无数据\n      passId: '', // 点击修改密码是，获取index,根据index,确定那个用户的密码修改\n      editPasswordForm: {\n        oldPass: '',\n        newPass: '',\n        rePass: ''\n      }, // 修改密码的数据\n      passwordValidate: {\n        oldPass: [\n          {required: true, message: '请输入原密码', trigger: 'blur'}\n        ],\n        newPass: [\n          {required: true, message: '请输入新密码', trigger: 'blur'},\n          {min: 6, message: '请至少输入6个字符', trigger: 'blur'},\n          {max: 32, message: '最多输入32个字符', trigger: 'blur'}\n        ],\n        rePass: [\n          {required: true, message: '请再次输入新密码', trigger: 'blur'},\n          {validator: valideRePassword, trigger: 'blur'}\n        ]\n      }, // 设置表单校验\n      userDelShow: false, // 删除用户的modal的隐藏与显示\n      delId: '', // 删除的索引\n      levelMess: {},\n      pageShow: false,\n      pageNum: '',\n      allData: [],\n      serachData: []\n    }\n  },\n  methods: {\n    addUser () { // 添加用户modal 弹出\n      this.userAddFlag = true\n    },\n    levelTypeChose () { // 获取权限模板\n      this.levelTypeShow = true\n      this.$post('/webapi/template', {key: 'get_default_tem', content: 'all'})\n        .then(res => {\n          this.temData = res\n          this.choseList = []\n          for (let i = 0; i < res.length; i++) {\n            this.choseList.push(res[i].tem_name)\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    choseTemName () { // 选中的权限模板\n      let len = this.$refs.radio.length\n      for (let i = 0; i < len; i++) {\n        if (this.$refs.radio[i].currentValue === true) {\n          this.temName = this.$refs.radio[i].label\n        }\n      }\n      this.temData.forEach((item, index) => {\n        if (item.tem_name === this.temName) {\n          this.accessListData = item\n        }\n      })\n      this.accessListData.tem_level = util.evil(this.accessListData.tem_level)\n      // util.chartToBol(this.accessListData.tem_level)\n      this.accessListShow = true\n    },\n    clearUserAddData () { // 重置用户新增 modal\n      this.accessListData = {}\n      this.temName = ''\n      this.userAddInpData.userName = ''\n      this.userAddInpData.userAccounts = ''\n      this.userAddInpData.userDepartment = ''\n      this.userAddInpData.userPassword = ''\n      this.userAddInpData.userRemarks = ''\n      if (this.$refs.radio !== undefined && this.$refs.radio !== null) { // 初始化权限选择模板\n        for (let i = 0; i < this.$refs.radio.length; i++) {\n          this.$refs.radio[i].currentValue = false\n        }\n        this.$refs.radio[0].currentValue = true\n      }\n      this.accessListShow = false\n    },\n    submitUserAdd () { // 提交用户新增数据\n      const reg = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/\n      if (this.userAddInpData.userName === '' || this.userAddInpData.userAccounts === '' || this.userAddInpData.userDepartment === '' || this.userAddInpData.userRemarks === '' || this.userAddInpData.userPassword === '') {\n        window.alert('请填写完整的用户信息！')\n      } else if (this.accessListShow === false) {\n        window.alert('请选择权限模板')\n      } else if (!reg.test(this.userAddInpData.userAccounts)) {\n        alert('邮箱格式不正确！')\n      } else {\n        let obj = this.submitMessOpt(this.accessListData, this.userAddInpData.userName, this.userAddInpData.userPassword, this.userAddInpData.userAccounts, this.userAddInpData.userDepartment, this.userAddInpData.userRemarks)\n        let subChart = JSON.stringify(obj)\n        this.$post('/webapi/user', {key: 'add', content: subChart})\n          .then(res => {\n            if (res[1] === 200) {\n              this.$Message.info('用户新增成功！')\n              this.getUserData()\n              this.userAddFlag = false\n            } else if (res[1] === 403) {\n              alert(res[2])\n            }\n          })\n          .catch(err => {\n            this.$Message.info('用户新增失败' + err)\n          })\n      }\n    },\n    submitMessOpt (submitData, name, password, accounts, department, remarks) {\n      let submitObj = {}\n      submitObj.user_accounts = accounts\n      submitObj.user_department = department\n      submitObj.user_name = name\n      submitObj.user_remarks = remarks\n      submitObj.user_passwd = md5(password)\n      submitObj.user_level = {}\n      util.changeCurrentValue(submitData.tem_level, this.$refs, 'bulid')\n      submitObj.user_level = submitData.tem_level\n      return submitObj\n    },\n    modifierLevel (params) { // 修改权限模板 modal 弹出\n      let ind = params.index\n      this.userModifierFlag = true\n      this.userModifierData = this.userData[ind]\n      if (typeof this.userModifierData.user_level === 'string') {\n        this.userModifierData.user_level = util.evil(this.userModifierData.user_level)\n      }\n      // util.chartToBol(this.userModifierData.user_level)\n    },\n    userModifier () { // 提交修改后的数据\n      let modifierChart = JSON.stringify(this.userModifierData) // 此处要把用户修改的初始数据转换后赋值给新变量，\n      // 不赋值，那么修改了数据，this.userModifierData 的数据也同步发生变化，则无法判断数据是否发生变化\n      let modifierDataObj = this.userModifierDataOpt(JSON.parse(modifierChart))\n      delete modifierDataObj.user_times\n      let chartSub = JSON.stringify(modifierDataObj)\n      let flag = this.userModifierChange(this.userModifierData, modifierDataObj)\n      let id = this.userModifierData.id\n      if (flag) {\n        this.$post('/webapi/user', {key: 'update', type: 'level', content: chartSub, id: id})\n          .then(res => {\n            if (res[1] === 200) {\n              this.$Message.info('修改成功')\n              this.getUserData()\n            }\n          })\n          .catch(err => {\n            this.$Message.info('修改失败' + err)\n          })\n      } else {\n        window.alert('提交失败，数据没有更改')\n      }\n      this.clearUserModifierData()\n    },\n    userModifierDataOpt (optionData) { // 修改后的数据的收集\n      console.log(this.$refs)\n      if (this.userModifierInpData.userModifierName !== '') {\n        optionData.user_name = this.userModifierInpData.userModifierName\n      }\n      if (this.userModifierInpData.userModifierDepartment !== '') {\n        optionData.user_department = this.userModifierInpData.userModifierDepartment\n      }\n      if (this.userModifierInpData.userModifierRemarks !== '') {\n        optionData.user_remarks = this.userModifierInpData.userModifierRemarks\n      }\n      util.changeCurrentValue(optionData.user_level, this.$refs, 'modifi')\n      return optionData\n    },\n    userModifierCancel () { // 重置修改权限 modal 数据\n      this.clearUserModifierData()\n    },\n    clearUserModifierData () { // 重置修改权限 modal 数据\n      this.userModifierInpData.userModifierRemarks = ''\n      this.userModifierInpData.userModifierName = ''\n      this.userModifierInpData.userModifierDepartment = ''\n      this.userModifierData = {}\n    },\n    userModifierChange (unChangeData, changeData) { // 判断修改权限 modal 里面的数据是否更改\n      let changeFlag = false\n      let unChangeName = unChangeData.user_name\n      let unChangeDepartment = unChangeData.user_department\n      let unChangeRemarks = unChangeData.user_remarks\n      let changeName = changeData.user_name\n      let changeDepartment = changeData.user_department\n      let changeRemarks = changeData.user_remarks\n      if (unChangeName !== changeName || unChangeDepartment !== changeDepartment || unChangeRemarks !== changeRemarks) {\n        changeFlag = true\n        return changeFlag\n      }\n      changeFlag = util.changeValue(unChangeData.user_level, changeData.user_level)\n      return changeFlag\n    },\n    modifierPassword (params) { // 提供修改密码的索引\n      this.modifierPasswordShow = true\n      this.passId = params.index\n    },\n    cancelEditPass () { // 取消修改密码\n      this.modifierPasswordShow = false\n      this.editPasswordForm.newPass = ''\n      this.editPasswordForm.rePass = ''\n    },\n    saveEditPass () { // 保存修改后的密码\n      let modifierId = this.userData[this.passId].id\n      this.$refs['editPasswordForm'].validate((valid) => {\n        if (valid) {\n          this.savePassLoading = true\n          this.$post('/webapi/user', {key: 'update', type: 'passwd', content: md5(this.editPasswordForm.rePass), id: modifierId})\n            .then(res => {\n              console.log(res)\n              if (res[1] === 200) {\n                this.$Message.info('密码修改成功')\n                this.savePassLoading = false\n                this.modifierPasswordShow = false\n                this.editPasswordForm.newPass = ''\n                this.editPasswordForm.rePass = ''\n              }\n            })\n            .catch(err => {\n              this.$Message.info('修改密码失败' + err)\n              console.log(err)\n            })\n        }\n      })\n    },\n    userDel (params) { // 获取删除的索引\n      this.userDelShow = true\n      this.delId = params.index\n    },\n    confirmDel () { // 确认删除\n      let id = this.userData[this.delId].id\n      this.$post('/webapi/user', {key: 'del', id: id})\n        .then(res => {\n          if (res[1] === 200) {\n            this.$Message.info('删除成功')\n            this.getUserData()\n            this.userDelShow = false\n          }\n        })\n        .catch(err => {\n          this.$Message.info('删除失败' + err)\n        })\n    },\n    getUserData () { // 用户管理界面初始数据\n      this.$post('/webapi/user', {key: 'show'})\n        .then(res => {\n          this.userData = []\n          this.allData = []\n          for (let i = 0; i < res.length; i++) {\n            this.userData.push(res[i])\n            this.allData.push(res[i])\n          }\n          this.userOriginData = res\n          if (res.length > 10) {\n            this.pageShow = true\n            this.pageNum = res.length\n            this.userData = this.allData.slice(0, 10)\n          } else if (res.length < 10) {\n            this.pageShow = false\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    pageChange (num) {\n      this.userData = this.allData.slice((num - 1) * 10, num * 10)\n    },\n    remoteMethod (query) {\n      let regx = new RegExp(query + '+', 'g')\n      this.serachData = this.allData.filter((item, index, array) => {\n        if (regx.test(item.user_name)) {\n          return item\n        }\n      })\n    },\n    choseUser (val) {\n      let flag = true\n      for (let i = 0; i < this.allData.length; i++) {\n        if (val === this.allData[i].user_name) {\n          this.userData = []\n          this.userData.push(this.allData[i])\n          flag = false\n        }\n      }\n      if (flag) {\n        this.userData = []\n      }\n    }\n  },\n  mounted () {\n    if (JSON.stringify(this.$store.state.userLevel) !== '{}' && this.$store.state.userLevel !== undefined) {\n      this.levelMess = this.$store.state.userLevel[this.$route.name]\n    }\n    this.getUserData()\n  },\n  computed: {\n    a () {\n      return this.$store.state.userLevel\n    }\n  },\n  watch: {\n    a: {\n      handler: function (val) {\n        for (let i in val) {\n          if (i === this.$route.name) {\n            this.levelMess = val[i]\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .user-container{\n    width: 100%;\n    padding: 14px 16px;\n  }\n  .user-container .user-add{\n    margin-bottom: 10px;\n    display: inline-block;\n    vertical-align: top;\n  }\n  .search{\n    display: inline-block;\n    position: relative;\n    vertical-align: top;\n    margin: 0px 0 0 50px;\n  }\n  .search-icon{\n    position: absolute;\n    top: 50%;\n    right: 10px;\n    margin-top: -9px;\n    z-index: 10;\n    font-size: 18px;\n  }\n  .user-con .ivu-form-item{\n    margin-bottom: 10px;\n  }\n  .user-access-tem .access-list{\n    height: 40px;\n    line-height: 40px;\n    border-bottom: 1px solid rgba(0, 0, 0, .2);\n  }\n  .user-access-tem .access-list:last-child{\n    border: none;\n  }\n  .user-access-tem .access-text{\n    display: inline-block;\n    font-size: 12px;\n    line-height: 40px;\n    color: #2d8cf0\n  }\n  .user-access-tem .checkbox{\n    float: right;\n  }\n  .level-type{\n    margin: 15px 0 20px 0;\n  }\n  .btn{\n    margin-top: 20px;\n  }\n  .table{\n    margin-bottom: 60px;\n  }\n  .page{\n    margin-top: 25px;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user-admin/userAdmin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-container\"},[_c('div',{staticClass:\"user-add\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-plus-empty\",\"disabled\":!_vm.levelMess['新建']},on:{\"click\":_vm.addUser}},[_vm._v(\"新增用户\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('Icon',{staticClass:\"search-icon\",attrs:{\"type\":\"ios-search\"}}),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMethod,\"placeholder\":\"请输入用户名搜素\"},on:{\"on-change\":_vm.choseUser}},_vm._l((_vm.serachData),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.user_name}},[_vm._v(_vm._s(item.user_name))])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"user-list table\"},[_c('i-table',{attrs:{\"columns\":_vm.columnsData,\"data\":_vm.userData}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('Modal',{attrs:{\"title\":\"用户新增\"},on:{\"on-cancel\":_vm.clearUserAddData},model:{value:(_vm.userAddFlag),callback:function ($$v) {_vm.userAddFlag=$$v},expression:\"userAddFlag\"}},[_c('div',{staticClass:\"user-con\"},[_c('i-form',{ref:\"formUser\"},[_c('FormItem',{attrs:{\"label\":\"用户账号：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入账号，账号格式是邮箱\",\"autocomplete\":\"off\"},model:{value:(_vm.userAddInpData.userAccounts),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userAccounts\", $$v)},expression:\"userAddInpData.userAccounts\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户部门：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户部门\"},model:{value:(_vm.userAddInpData.userDepartment),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userDepartment\", $$v)},expression:\"userAddInpData.userDepartment\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名字：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.userAddInpData.userName),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userName\", $$v)},expression:\"userAddInpData.userName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户密码：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户密码\",\"type\":\"password\"},model:{value:(_vm.userAddInpData.userPassword),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userPassword\", $$v)},expression:\"userAddInpData.userPassword\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户备注：\"}},[_c('i-input',{attrs:{\"placeholder\":\"请输入用户备注\"},model:{value:(_vm.userAddInpData.userRemarks),callback:function ($$v) {_vm.$set(_vm.userAddInpData, \"userRemarks\", $$v)},expression:\"userAddInpData.userRemarks\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"level-type\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.levelTypeChose}},[_vm._v(\"\\n            选择权限模板\\n          \")])],1),_vm._v(\" \"),(_vm.accessListShow)?_c('div',{staticClass:\"user-access-tem\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},[_c('Panel',{attrs:{\"name\":\"user_level\"}},[_c('span',[_vm._v(_vm._s(_vm.temName)+\"权限列表\")]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},_vm._l((_vm.accessListData.tem_level),function(items,val,index){return _c('Panel',{key:val,attrs:{\"name\":val}},[_c('span',[_vm._v(_vm._s(val))]),_vm._v(\" \"),_vm._l((items),function(list,name){return _c('div',{key:name,staticClass:\"access-list\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('p',{staticClass:\"access-text\"},[_vm._v(_vm._s(name))]),_vm._v(\" \"),_c('Checkbox',{ref:'bulid' + name + index,refInFor:true,staticClass:\"checkbox\",attrs:{\"value\":list}})],1)})],2)}))],1)])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.clearUserAddData}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitUserAdd}},[_vm._v(\"提交\")])],1)]),_vm._v(\" \"),_c('Modal',{staticStyle:{\"{zIndex\":\"'100'}\"},attrs:{\"title\":\"权限模板\"},on:{\"on-ok\":_vm.choseTemName},model:{value:(_vm.levelTypeShow),callback:function ($$v) {_vm.levelTypeShow=$$v},expression:\"levelTypeShow\"}},[_c('div',{staticClass:\"radio\"},[_c('RadioGroup',{model:{value:(_vm.choseDefault),callback:function ($$v) {_vm.choseDefault=$$v},expression:\"choseDefault\"}},_vm._l((_vm.choseList),function(name,index){return _c('Radio',{key:index,ref:\"radio\",refInFor:true,attrs:{\"label\":name}})}))],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"用户修改\"},on:{\"on-ok\":_vm.userModifier,\"on-cancel\":_vm.userModifierCancel},model:{value:(_vm.userModifierFlag),callback:function ($$v) {_vm.userModifierFlag=$$v},expression:\"userModifierFlag\"}},[_c('div',{staticClass:\"user-con\"},[_c('i-form',{ref:\"formUserModifier\"},[_c('FormItem',{attrs:{\"label\":\"用户部门：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_department},model:{value:(_vm.userModifierInpData.userModifierDepartment),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierDepartment\", $$v)},expression:\"userModifierInpData.userModifierDepartment\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户名字：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_name},model:{value:(_vm.userModifierInpData.userModifierName),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierName\", $$v)},expression:\"userModifierInpData.userModifierName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"用户备注：\"}},[_c('i-input',{attrs:{\"placeholder\":_vm.userModifierData.user_remarks},model:{value:(_vm.userModifierInpData.userModifierRemarks),callback:function ($$v) {_vm.$set(_vm.userModifierInpData, \"userModifierRemarks\", $$v)},expression:\"userModifierInpData.userModifierRemarks\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"user-access-tem\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},[_c('Panel',{attrs:{\"name\":\"user_level\"}},[_c('span',[_vm._v(\"权限列表\")]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Collapse',{attrs:{\"accordion\":\"\"}},_vm._l((_vm.userModifierData.user_level),function(items,val,index){return _c('Panel',{key:val,attrs:{\"name\":val}},[_c('span',[_vm._v(_vm._s(val))]),_vm._v(\" \"),_vm._l((items),function(list,name){return _c('div',{key:name,staticClass:\"access-list\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('p',{staticClass:\"access-text\"},[_vm._v(_vm._s(name))]),_vm._v(\" \"),_c('Checkbox',{ref:'modifi' + name + index,refInFor:true,staticClass:\"checkbox\",attrs:{\"value\":list}})],1)})],2)}))],1)])],1)],1)],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"修改密码\"},model:{value:(_vm.modifierPasswordShow),callback:function ($$v) {_vm.modifierPasswordShow=$$v},expression:\"modifierPasswordShow\"}},[_c('Form',{ref:\"editPasswordForm\",attrs:{\"model\":_vm.editPasswordForm,\"label-width\":100,\"label-position\":\"right\",\"rules\":_vm.passwordValidate}},[_c('FormItem',{attrs:{\"label\":\"新密码\",\"prop\":\"newPass\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新密码，至少6位字符\",\"type\":\"password\"},model:{value:(_vm.editPasswordForm.newPass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"newPass\", $$v)},expression:\"editPasswordForm.newPass\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"确认新密码\",\"prop\":\"rePass\"}},[_c('Input',{attrs:{\"placeholder\":\"请再次输入新密码\",\"type\":\"password\"},model:{value:(_vm.editPasswordForm.rePass),callback:function ($$v) {_vm.$set(_vm.editPasswordForm, \"rePass\", $$v)},expression:\"editPasswordForm.rePass\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelEditPass}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.savePassLoading},on:{\"click\":_vm.saveEditPass}},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"width\":\"360\"},model:{value:(_vm.userDelShow),callback:function ($$v) {_vm.userDelShow=$$v},expression:\"userDelShow\"}},[_c('p',{staticStyle:{\"color\":\"rgb(255, 102, 0)\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"information-circled\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"删除确认\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(\"该用户一经删除，无法恢复\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\",\"long\":\"\"},on:{\"click\":_vm.confirmDel}},[_vm._v(\"删除\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"page\"},[(_vm.pageShow)?_c('Page',{attrs:{\"total\":_vm.pageNum,\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a39b910a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user-admin/userAdmin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a39b910a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userAdmin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdmin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdmin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a39b910a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userAdmin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a39b910a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user-admin/userAdmin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}